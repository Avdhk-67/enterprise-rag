rag:
  # Document Processing
  document_processing:
    supported_formats:
      - pdf
      - docx
      - txt
      - md
    chunking:
      strategy: hybrid  # Options: traditional, logical, hybrid
      chunk_size: 1000
      chunk_overlap: 200
      logical_chunking:
        use_semantic_splitter: true
        preserve_paragraphs: true
  
  # Embedding Configuration
  embedding:
    model: amazon.titan-embed-text-v1
    batch_size: 32
    normalize: true
  
  # Retrieval Configuration
  retrieval:
    top_k: 5
    similarity_threshold: 0.7
    rerank: false  # Set to true to enable reranking
    rerank_model: cross-encoder/ms-marco-MiniLM-L-6-v2
  
  # Generation Configuration
  generation:
    model: anthropic.claude-3-sonnet-20240229-v1:0
    temperature: 0.0
    max_tokens: 2000
    system_prompt: |
      You are a helpful assistant that answers questions based on the provided context.
      Always cite your sources and indicate when information is not available in the context.
      Be accurate, concise, and professional.
  
  # Query Processing
  query_processing:
    rewrite_queries: true
    expand_queries: true
    use_cot_reasoning: true
    planning_enabled: true
  
  # Validation
  validation:
    check_relevancy: true
    check_grounding: true
    check_hallucination: true
    min_confidence_score: 0.7
    require_source_citations: true
  
  # Evaluation
  evaluation:
    enabled: true
    metrics:
      - answer_correctness
      - faithfulness
      - answer_relevancy
      - context_recall
      - answer_similarity

